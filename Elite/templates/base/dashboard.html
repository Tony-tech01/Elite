{% extends 'main.html' %}

{% block content %}
<div class="container mt-4">
    <h2 class="text-center mb-5 fw-bold text-success">Dashboard</h2>

    {% if no_profile %}
        <div class="alert alert-warning text-center rounded-4 shadow-sm mb-5" role="alert">
            You have not set up your profile yet..
        </div>
    {% endif %}

    {% if messages %}
      {% for message in messages %}
        <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
          {{ message }}
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
      {% endfor %}
    {% endif %}

    
    <div class="row g-4 mb-4">
        <div class="col-12 col-md-6 col-lg-3">
            <div class="card shadow-lg text-center p-4 h-100 border-0 rounded-4 bg-gradient" style="background: linear-gradient(135deg, #e0f7fa 0%, #b2ebf2 100%);">
                <h5 class="text-primary mb-2"><i class="bi bi-people-fill me-2"></i>Total Players</h5>
                <p class="display-5 fw-bold mb-0">{{ players.count }}</p>
                <a href="{% url 'player_list' %}" class="stretched-link"></a>
            </div>
        </div>
        <div class="col-12 col-md-6 col-lg-3">
            <div class="card shadow-lg text-center p-4 h-100 border-0 rounded-4 bg-gradient" style="background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);">
                <h5 class="text-success mb-2"><i class="bi bi-person-badge-fill me-2"></i>Scouts Registered</h5>
                <p class="display-5 fw-bold mb-0">{{ scouts.count }}</p>
                <a href="#" class="stretched-link"></a>
            </div>
        </div>
        <div class="col-12 col-md-6 col-lg-3">
            <div class="card shadow-lg text-center p-4 h-100 border-0 rounded-4 bg-gradient" style="background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);">
                <h5 class="text-info mb-2"><i class="bi bi-people me-2"></i>Total Teams</h5>
                <p class="display-5 fw-bold mb-0">{{ teams.count }}</p>
                <a href="{% url 'team_list' %}" class="stretched-link"></a>
            </div>
        </div>
        <div class="col-12 col-md-6 col-lg-3">
            <div class="card shadow-lg text-center p-4 h-100 border-0 rounded-4 bg-gradient" style="background: linear-gradient(135deg, #fffde7 0%, #fff9c4 100%);">
                <h5 class="text-warning mb-2"><i class="bi bi-calendar-event me-2"></i>Upcoming Matches</h5>
                <p class="display-5 fw-bold mb-0">{{ upcoming_matches.count }}</p>
                <a href="{% url 'home' %}#matches" class="stretched-link"></a>
            </div>
        </div>
    </div>

    
    <div class="row g-4">
        <div class="col-12 col-lg-6">
            <div class="card shadow border-0 h-100 rounded-4">
                <div class="card-body">
                    <h5 class="card-title text-primary mb-3 fw-semibold">Quick Actions</h5>
                    <div class="d-flex flex-wrap gap-3">
                        <a href="{% url 'team_list' %}" class="btn btn-outline-info flex-fill py-3 rounded-3"><i class="bi bi-people"></i> View Teams</a>
                        <a href="{% url 'player_list' %}" class="btn btn-outline-success flex-fill py-3 rounded-3"><i class="bi bi-list-ul"></i> Player List</a>
                        <a href="{% url 'home' %}#matches" class="btn btn-outline-warning flex-fill py-3 rounded-3"><i class="bi bi-calendar-event"></i> Upcoming Matches</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-12 col-lg-6">
            <div class="card shadow border-0 h-100 rounded-4 bg-white">
                <div class="card-body">
                    <h5 class="card-title text-success mb-3 fw-semibold">Welcome to Your Dashboard</h5>
                    <p class="mb-0">
                        Here you can manage players, scouts, teams, and keep track of upcoming matches. Use the quick actions to navigate or add new records. Stay organized and make the most of your rugby scouting experience!
                    </p>
                </div>
            </div>
        </div>
    </div>

    
    <div class="row mt-5">
        <div class="col-12 col-md-10 col-lg-8 mx-auto">
            <div class="card shadow-lg border-0 text-center p-4 rounded-4" style="background: linear-gradient(90deg, #e0ffe0 0%, #f8fafc 100%);">
                <h4 class="card-title text-success mb-3 fw-bold">
                    <i class="bi bi-cash-coin me-2"></i>Support Stadium Construction
                </h4>
                <p class="mb-4 fs-5">
                    Your donation helps us build a better future for our community. Every contribution counts!
                </p>
                <a href="{% url 'donate' %}" class="btn btn-success btn-lg px-5 py-3 rounded-pill shadow">
                    <i class="bi bi-phone"></i> Donate with Mpesa
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}